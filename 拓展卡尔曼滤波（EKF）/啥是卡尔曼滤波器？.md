## 任务：根据测量值估计真实值
### 简单方法：取平均值
记$z$为测量值：
$$\hat{x_k}=\frac{1}{k}(z_1+z_2+...+z_k)=\frac{1}{k}\frac{k-1}{k-1}(z_1+...+z_{k-1})+\frac{1}{k}z_k$$

$$=\hat{x_{k-1}}+\frac{1}{k}(z_k-\hat{x_{k-1}})$$
这说明了当k足够大时，测量值不再重要.
### 引入了自适应系数
另外地，我们可以把$\frac{1}{k}$用另外一个系数$K_k$表示，叫做***卡尔曼增益/因数***,得到公式
$$\hat{x_k}=\hat{x_{k-1}}+K_k(z_k-\hat{x_{k-1}})$$
这是卡尔曼滤波器的优势：***递归***,可以使它只需要前一次的数据.
我们记估计误差为$e_{EST}$,测量误差为$e_{MEA}$，则
$$K_k=\frac{e_{EST_{k-1}}}{e_{EST_{k-1}}+e_{MEA_k}}$$
若k-1时刻的估计误差远大于k时的测量误差，则$K_k\rightarrow 1$,若估计误差远小于测量误差时，$K_k\rightarrow 0$.
如何更新估计误差？我们可以一轮中先算出来卡尔曼增益后，使用公式：
$e_{EST_k}=(1-K_k)e_{EST_{k-1}}$

